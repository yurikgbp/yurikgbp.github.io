var rpColors={mobile:!1,doms:{map:document.getElementById("map"),panel:document.getElementById("panel"),closer:document.getElementById("panelClose"),label:document.getElementById("dtlLbl"),address:document.getElementById("dtlAdd"),category:document.getElementById("dtlCtg"),img:document.getElementById("dtlImg"),desc:document.getElementById("dtlDesc"),room:document.getElementById("dtlRoom"),timeTo:document.getElementById("dtlTime"),distTo:document.getElementById("dtlLgt"),cta:document.getElementById("dtlCTA"),preload:document.getElementById("preload"),startBtn:document.getElementById("appStart")},highlightedMarker:null,routing:null,zones:null,currentDetailData:null,init:function(){rpColors.doms.startBtn.addEventListener("click",function(){rpColors.closePreload()});var e=L.map("map",{zoomControl:!1}).setView([49.8191522,18.2795117],12);L.tileLayer("https://services7.tmapserver.cz/tileserver/styles/tmw/{z}/{x}/{y}.png",{maxZoom:19,minZoom:10,attribution:'&copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors',continuousWorld:!0,opacity:.75}).addTo(e),L.control.zoom({position:"bottomleft"}).addTo(e),rpColors.zones=L.geoJson(rpColorsDistance,{onEachFeature:function(e,o){switch(e.properties.GRIDCODE){case 1:o.setStyle({color:"#ff9955",weight:0,fillColor:"#dc0000",fillOpacity:.35,clickable:!1});break;case 2:o.setStyle({color:"#ffcc00",weight:0,fillColor:"#ff9900",fillOpacity:.35,clickable:!1});break;case 3:o.setStyle({color:"#ffdd55",weight:0,fillColor:"#ffff3e",fillOpacity:.5,clickable:!1});break;case 4:o.setStyle({color:"#ffe680",weight:0,fillColor:"#ccff42",fillOpacity:.35,clickable:!1});break;case 5:o.setStyle({color:"transparent",weight:0,fillColor:"#009100",fillOpacity:.35,clickable:!1})}}}).addTo(e);var o=e.getPanes().overlayPane.firstChild,t=document.createElementNS("http://www.w3.org/2000/svg","filter"),r=document.createElementNS("http://www.w3.org/2000/svg","feGaussianBlur");t.setAttribute("id","blur"),t.setAttribute("x","-100%"),t.setAttribute("y","-100%"),t.setAttribute("width","500%"),t.setAttribute("height","500%"),r.setAttribute("stdDeviation",10),t.appendChild(r),o.appendChild(t),rpColors.zones.eachLayer(function(e){e._container.setAttribute("filter","url(#blur)")});var i=L.icon({iconUrl:"images/marker-green.png",iconSize:[24,25],iconAnchor:[12,12],popupAnchor:[0,75]}),l=L.icon({iconUrl:"images/marker-highlight-yellow.png",iconSize:[32,44],iconAnchor:[16,36],popupAnchor:[0,75]});L.marker([49.8228125,18.2783786],{icon:l,setZIndexOffset:99999}).addTo(e),L.geoJson(rpColorsHotels,{onEachFeature:function(o,t){if(t.on("click",function(){rpColors.currentDetailData={feature:o.properties,layer:t},rpColors.updateDetail()}),!rpColors.mobile){var r=L.popup({maxWidth:120,minWidth:120,maxHeight:120,closeButton:!1,className:"rpPopup"}).setContent("<b>"+o.properties.title+"</b><br><span>"+Math.round(o.properties.timeto)+" min</span><br><span>to event location</span>");t.bindPopup(r),t.on("mouseover",function(){rpColors.currentDetailData={feature:o.properties,layer:t},t.openPopup(),e.hasLayer(rpColors.routing)&&(e.removeLayer(rpColors.routing),rpColors.routing=null),rpColors.routing=L.geoJson(JSON.parse(o.properties.route),{style:{color:"#333",weight:5,opacity:.65,clickable:!1}}).addTo(e),setTimeout(function(){t.closePopup()},2e3)})}},pointToLayer:function(e,o){return e.properties.category=e.properties.category.split(".")[0],L.marker(o,{icon:i})}}).addTo(e),rpColors.doms.closer.addEventListener("click",function(){rpColors.closeDetail()}),e.on("zoomend",function(){e.getZoom()>=17?e.hasLayer(rpColors.zones)&&e.removeLayer(rpColors.zones):e.hasLayer(rpColors.zones)||e.addLayer(rpColors.zones)})},updateDetail:function(){var e=rpColors.currentDetailData.feature;rpColors.highlightMarker(rpColors.currentDetailData.layer),rpColors.openDetail(),rpColors.doms.label.innerHTML=e.title,rpColors.doms.address.innerHTML=e.address;var o="";if("0"!=e.category)for(var t=1,r=e.category;r>=t;t++)o+="*";rpColors.doms.category.innerHTML=o,rpColors.doms.img.style.backgroundImage="url("+e.img+")",rpColors.doms.desc.innerHTML=e.desc,rpColors.doms.room.innerHTML=e.room,rpColors.doms.timeTo.innerHTML=Math.round(e.timeto)+" min",rpColors.doms.distTo.innerHTML=Math.round(e.distanceto/100)/10+" km",rpColors.doms.cta.setAttribute("href",e.action+"?aid=828070")},openDetail:function(){"panel panel-visible"!=rpColors.doms.panel.className&&(rpColors.doms.panel.className="panel panel-visible")},closeDetail:function(){rpColors.doms.panel.className="panel",rpColors.removeHighlightMarker()},highlightMarker:function(e){if(rpColors.highlightedMarker!=e){var o=(e.options.icon.options.iconUrl.split(".png")[0],e.options.resId,L.icon({iconUrl:"images/marker-highlight-green.png",iconSize:[32,44],iconAnchor:[16,36],popupAnchor:[0,75]}));rpColors.removeHighlightMarker(),e.setIcon(o),rpColors.highlightedMarker=e,e.setZIndexOffset(1e5)}},removeHighlightMarker:function(){if(null!=rpColors.highlightedMarker){var e=L.icon({iconUrl:"images/marker-green.png",iconSize:[24,25],iconAnchor:[12,12],popupAnchor:[0,75]});rpColors.highlightedMarker.setIcon(e),rpColors.highlightedMarker.setZIndexOffset(0),rpColors.highlightedMarker=null}},closePreload:function(){rpColors.doms.preload.className="preload preload-hidden"}};!function(e){window.onload=function(){rpColors.doms.startBtn.className="preload--btn"},$("#map").on("click",".rpPopup",function(){rpColors.updateDetail()}),$("#map").on("click",function(){rpColors.mobile&&$(".legend--item").removeClass("legend--item-visible")}),$(".legend--item").on("click",function(){$(this).toggleClass("legend--item-visible")}),(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4)))&&(rpColors.mobile=!0),rpColors.init()}(navigator.userAgent||navigator.vendor);